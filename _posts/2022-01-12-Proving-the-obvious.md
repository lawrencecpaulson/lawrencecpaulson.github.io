---
layout: post
title:  "Proving the obvious"
usemathjax: true 
tags: general, logic
---

It is commonly opined that proof assistants are useless for mathematics because they are too difficult to learn and use. This opinion is incorrect: I am as skilled as anyone on the planet at using Isabelle/HOL, but no amount of skill can compensate for the limitations of today's tools. They are simply too stupid to prove obvious things.

### The mutilated chessboard

The canonical example of an obvious question asks whether this mutilated chessboard can be tiled by 32 dominoes:

<img src="/images/chess-board.png" alt="mutilated chessboard" width="400"/>

Obviously it can't be, as seen by the colours of the squares. But perhaps this is a poor example because it is about everyday objects. By the time we've translated it into a problem about mathematical objects such as matrices, it's already game over. Many have tried, [including myself](https://doi.org/10.1093/jigpal/9.3.475), but the amount of work required looks ridiculous. I've also seen furious arguments about whether the chessboard was formalised too abstractly.

### Triangles in a tripartite graph

So here is a proper mathematical example, from a proof of Roth's theorem on arithmetic progressions. The proof involves a tripartite graph with sets of vertices $X$, $Y$ and $Z$ (disjoint copies of the integers modulo some $M$). There are edges between these vertex sets but none within them. We are concerned with *triangles*: three vertices connected by three edges. It's obvious that every triangle has a vertex in each of the three sets.

![tripartite graph](/images/tripartite graph.png)

When a claim is really trivial, it can be difficult to come up with an explanation: how low do we have to go? Here we could reason as follows: look at one edge of the given triangle, which we can assume WLOG connects $X$ with $Y$. ([Without loss of generality](https://rdcu.be/cJtBo) is a problem for theorem provers, and although our graph is undirected, in a syntactic sense there are still six cases.) Because there are no edges within any of the vertex sets, the next edge must connect to either $X$ or $Z$, and if the former, we would be unable to find a third edge for our triangle. [BFD](https://www.urbandictionary.com/define.php?term=BFD). (BFD is preferred to QED when the proof is trivial.)

The argument above is easy to supply to Isabelle/HOL, but it generates hundreds of cases. All of them are trivial enough to prove automatically, but the runtime is intolerable. A certain amount of creativity and perhaps programming skill is required simply to prove (efficiently!) that every triangle consists of a vertex from each of $X$, $Y$ and $Z$ in that order. And that tiresome work comes before we reach any of the serious reasoning in the proof. Ironically, sometimes the difficult calculations elaborately laid out by the author can be proved with less effort than the trivial claims.

### A trivial fact about derivatives

The following example came up while formalising a bit of analytic number theory. Suppose that the function $f$ is differentiable at $z$ and that $\sigma_n$ is a series of nonzero reals converging to 0. Then we have

$$ f'(z) = \lim_{\sigma_n\to0} \frac{f(z+\sigma_n) - f(z)}{\sigma_n}. $$

I still wonder why this needs to be proved. It closely resembles the definition of the derivative, and certainly the text gave no hint that a proof was required. But a full $\epsilon$-$\delta$ argument is called for.

<pre class="source">
<span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def"><span class="entity_def"><span>field_derivative_lim_unique</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_34026..34027">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="keyword1">has_field_derivative</span><span> </span><span class="free"><span>df</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1">at</span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34076..34077">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main">⇢</span><span> </span><span class="main">0</span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main">≠</span><span> </span><span class="main">0</span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34113..34114">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main">+</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">⇢</span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>df</span></span><span> </span><span class="main">=</span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span>ccontr<span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>df</span></span><span> </span><span class="main">≠</span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_34228..34232">qpos</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>ε</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span>"</span></span></span><span> 
             </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34274..34275">q</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>ε</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main">≠</span><span> </span><span class="free"><span>z</span></span><span class="main"><span>;</span></span><span> </span>dist<span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="bound"><span>ε</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span>dist<span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>df</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="bound"><span>ε</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span>f<span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span>LIM_def<span> </span>has_field_derivative_iff<span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>NA</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_34436..34438">NA</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>ε</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main">≥</span><span> </span><span class="skolem"><span>NA</span></span><span> </span><span class="bound"><span>ε</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span>dist<span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main">+</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="bound"><span>ε</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span>a<span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span>LIMSEQ_def<span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>NB</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_34568..34570">NB</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>ε</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main">≥</span><span> </span><span class="skolem"><span>NB</span></span><span> </span><span class="bound"><span>ε</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span>norm<span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="bound"><span>ε</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span>s<span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span>LIMSEQ_def<span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span>norm_conv_dist<span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_34682..34684">df</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>ε</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ε</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>⟦</span></span><span class="main">0</span><span> </span><span class="main">&lt;</span><span> </span><span class="bound"><span>ε</span></span><span class="main"><span>;</span></span><span> </span>norm<span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="bound"><span>ε</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span>dist<span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main">+</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>df</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="bound"><span>ε</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span>add_cancel_left_right<span> </span>add_diff_cancel_left'<span> </span>q<span> </span>s<span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span>add_diff_cancel_right'<span> </span>dist_diff<span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>δ</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>δ</span></span><span> </span><span class="main"><span>≡</span></span><span> </span>dist<span> </span><span class="free"><span>df</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main">/</span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>df</span></span><span> </span><span class="main">≠</span><span> </span><span class="free"><span>a</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>δ</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34949..34950">δ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>δ</span></span><span class="main">+</span><span class="skolem"><span>δ</span></span><span> </span><span class="main">≤</span><span> </span>dist<span> </span><span class="free"><span>df</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_34984..34990">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>N</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>≡</span></span><span> </span>max<span> </span><span class="main"><span>(</span></span><span class="skolem"><span>NA</span></span><span> </span><span class="skolem"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>NB</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>δ</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span>norm<span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>δ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span>NB<span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>δ</span></span><span> </span><span class="main">&gt;</span><span> </span><span class="main">0</span><span>›</span></span></span><span> </span>qpos<span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span>dist<span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main">+</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>df</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>δ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main">0</span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>δ</span></span><span>›</span></span></span><span> </span>df<span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span>dist<span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main">+</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main">-</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main">/</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>δ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span>NA<span> </span>N_def<span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main">0</span><span> </span><span class="main">&lt;</span><span> </span><span class="skolem"><span>δ</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span>dist<span> </span><span class="free"><span>df</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main">&lt;</span><span> </span>dist<span> </span><span class="free"><span>df</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span>δ<span> </span>dist_commute<span> </span>dist_triangle<span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted">False</span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span></pre>

The theorem statement seems to assert the uniqueness of the derivative. However, theorems to this effect already exist in the Isabelle/HOL library and don't appear to help. If you can see a more direct way of proving this result please send it along and I will highlight it in a future post.

### Further examples

These examples, as well as the previous one, come from *Modular Functions and Dirichlet Series in Number Theory* by Tom M. Apostol. He remarks that it "evolved from a course ... offered at the California Institute of Technology during the last 25 years," so it represents mathematics as it is taught in a first-rate institution.

> **Theorem 1.5.** *If an elliptic function $f$ has no zeros in some period parallelogram, then $f$ is constant.*
> 
> PROOF. Apply Theorem 1.4 to the reciprocaI $1/f$. $\qquad\Box$

The Isabelle/HOL proof is more than 60 lines long.

> **Theorem 1.6.** The contour integral of an elliptic function taken along the boundary of any cell is zero.

> PROOF. The integrals along parallel edges cancel because of periodicity. $\qquad\Box$

The Isabelle/HOL proof is more than 100 lines long.

> **Theorem 1.7.** The sum of the residues ofan ellipticfunction at its poles in any period parallelogram is zero.

> PROOF. Apply Cauchy's residue theorem to a cell and use Theorem 1.6. $\qquad\Box$

The Isabelle/HOL proof is nearly 200 lines long.

Each of these claims has a one-sentence proof, but their formal proofs are long and complicated, the work of several highly talented people. So either the proofs are trivial and proof assistants have a long way to go, or perhaps, Apostol simply could not be bothered to prove his claims. I am not qualified to judge. What do *you* think?

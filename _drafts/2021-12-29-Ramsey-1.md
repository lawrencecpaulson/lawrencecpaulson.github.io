---
layout: post
title:  "Formalising Ramsey theory, I"
usemathjax: true 
tags: Isabelle, Ramsey's theorem
---

In his short life, [Frank Ramsey](https://plato.stanford.edu/entries/ramsey/) made tremendous contributions to logic, mathematics and other fields. Ramsey's theorem initiated a new branch of infinitary combinatorics and is also the key to today's software termination checkers. To quote Herbert Ryser, Ramsey's theorem is "a profound generalisation" of the pigeon-hole principle, which "asserts that if a set of sufficiently many elements is partitioned into not too many subsets, then at least one of the subsets must contain many of the elements". 

### Ramsey's theorem in its finite and infinite forms

The theorem is often expressed in terms of graphs, e.g., if $p$ and $q$ are given positive integers then there exists some $k$ such that if the edges of any complete graph with at least $k$ vertices are coloured red and blue then it will contain either a blue clique on $p$ vertices or a red clique on $q$ vertices. 
However, this version understates Ramsey's theorem almost as much as the pigeon-hole principle does.

To state Ramsey's theorem properly, we need the concept of an $n$-set, which is simply a set containing $n$ elements for some integer $n$.
The pigeon-hole principle is Ramsey's theorem where $n=1$.
The graph-theoretic version is where $n=2$.
However, the theorem holds for all positive $n$. 
This is sometimes called the *hypergraph* version, with the $n$-sets referred to as *hyperedges*.

The full (finite) version of Ramsey's theorem states that, for any positive integers $m_0$, $m_1$ and $n$, there is an integer $k$ such that for every set $X$ having at least $k$ elements, if we partition the $n$-subsets of $X$ into two parts, then there is a $m_i$-subset $Y_i\subseteq X$ for $i<2$ such that every $n$-subset of $Y$ is in the same part $i$ of the partition. The proof is by induction on $n$, and within that, by induction on $m_0+m_1$.

There's also an infinite version of the theorem stating that if $n$ is a positive integer and we partition the $n$-subsets of a given infinite set $X$ into two parts then there is an infinite subset $Y\subseteq X$ such that every $n$-subset of $Y$ is in the same part. 

All of the theorems are easily generalised to multiple colours.
Identifying two of the colours (let's call the result grey) reduces their number.
That observation allows an inductive argument with a further application of the two-colour version of the theorem in case the selected partition is the grey one.

I was unable to find a good proof online, so the [Isabelle version](https://isabelle.in.tum.de/website-Isabelle2021-1/dist/library/HOL/HOL-Library/Ramsey.html) is based on an old textbook of mine: [*Combinatorial Mathematics*](https://doi.org/10.5948/UPO9781614440147) by Herbert Ryser (CUP, 2014).

### Extensions

### Applications



---
layout: post
title:  "NG de Bruijn and AUTOMATH"
usemathjax: true 
tags: logic, de Bruijn, AUTOMATH
---

NG de Bruijn visited Caltech in the spring of 1977 to deliver a course on his [AUTOMATH](https://www.win.tue.nl/automath/) mathematical language. I was lucky enough to attend and to have private discussions with him. AUTOMATH embodies his personal philosophy of mathematics and in particular [his view]({% post_url 2021-10-27-formalisms%}) that mathematical objects are essentially typed. In the AUTOMATH languages (they evolved over time) you can introduce types and elements of types, where each element has a unique type. You can also introduce propositions or instancesâ€“â€“axioms or assumptionsâ€“â€“of propositions.
The parallel treatment of types and propositions makes AUTOMATH the first implemention of the idea of [*propositions as types*](https://dl.acm.org/doi/10.1145/2699407). Yet it is much simpler and (deliberately) weaker than subsequent type theories, with their $\Pi$ and $\Sigma$ type constructors and internal programming languages. De Bruijn referred to AUTOMATH as a "Î»-typed Î»-calculus" because it only had one kind of binder, which operated at the level of objects, types and propositions.

## Syntax

The syntax of AUTOMATH looks horrible now, but it seemed natural in the era of punched cards. The syntax is line based, with three kinds of lines: 

- *EB lines* (empty block openers), introducing a new typed variableâ€“â€“possibly representing an assumptionâ€“â€“to the current context
- *PN lines*, asserting axiomatically the existence of some *primitive notion* 
- *Abbreviation lines*, which define an identifier as equal to some given expression. Such lines express constructions. They can express the proof of a theorem, coded as its type.

*Expressions* in AUTOMATH belong to one of three possible levels:

1. `TYPE` and `PROP` (which at first were treated identically)
2. *types and propositions* (elements of 1-expressions)
3. *elements of types or propositions* (elements of 2-expressions)

Unlike modern Î»-calculi, AUTOMATH does not have nested bound variable scopes enclosed in parentheses. You create a new scope by declaring a variable and its type in an EB line. 

```Â * ğ›¼Â Â := â€“â€“Â Â Â Â type```

Sometime later, an EB line can quote the *same* variable and then declare a new one, thereby extending the previous-named scope. 
Here, `x` will have type `ğ›¼`.

```ğ›¼ * xÂ Â := â€“â€“Â Â Â Â ğ›¼```

Thanks to this approach, several scopes can be available at the same time and it's not so easy to figure out which variables are currently in scope: you have to trace back the quoted variable. A PN or abbreviation line also quotes a variable, designating the corresponding scope. Here, `AX` is in the scope of both `ğ›¼` and `x`.

``` x * AXÂ := PNÂ Â Â Â finite(x)```

Variables whose type denotes a proposition correspond to axioms or assumptions. The ability to partly back out of a scope allows for some cryptic partial application tricks.

## An Example: Equality

The following bit of code defines the equality relation, `IS(x,y)`.

![AUTOMATH text](/images/AUTOMATH-book-equality.png)

A series of EB lines introduces the type Î±, then extends that scope with x and again with y, both of type Î±. Then a PN line introduces the predicate `IS`, which depends on all three. The next PN line drops y from the scope and introduces the axiom `REFL`, for reflexivity, of type `IS(x,x)`. The symmetry property will be a rule of inference mapping `IS(x,y)` to `IS(y,x)`. So now the scope ending with y is extended with i, of type `IS(x,y)`. The symmetry axiom is now the primitive notion `SYM`, depending on all four variables and having type `IS(y,x)`.

A landmark work was LS van Benthem Jutting's [translation](https://pure.tue.nl/ws/files/1710991/23183.pdf) of Landau's textbook [Foundations of Analysis](https://homepages.math.uic.edu/~kauffman/Landau.pdf). He demonstrated that sophisticated mathematical material, including equivalence classes, could be formalised in AUTOMATH (and with more elegance and less effort than could be imagined in the formalism of *Principia Mathematica*). This work also led to the idea of the [de Bruijn factor](https://www.cs.ru.nl/~freek/factor/): the ratio between the size of the formalisation and the size of the original text. That we speak of a factor embodies de Bruijn's observation that this ratio remained constant as the material being formalised grew more advanced.

The researchers who accomplished so much using the tools of the 1970s deserve our praise. 
